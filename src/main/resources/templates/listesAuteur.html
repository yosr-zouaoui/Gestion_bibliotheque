<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
	integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
	crossorigin="anonymous">
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css"
	rel="stylesheet" type="text/css" />
<title>Listes des auteurs</title>
</head>

<body>
<div class="container-sm">
<h1 class="text-danger"> Listes des auteurs </h1>
<br><br>
<a class="btn btn-success btn-sm" th:href="@{/api/auteurs/createAuteurForm}">Créer un nouvel auteur</a>
<br><br>
<table class="table table-hover table-bordered" >
    <thead class="bg-secondary">
        <tr>
            <th scope="col">Nom</th>
            <th scope="col">Prénom</th>
           	<th scope="col">Date de naissance </th>
           	<th scope="col">Status </th>
           	<th scope="col">Nationnalité </th>
           	<th scope="col">Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr scope="row" th:each="auteur : ${auteurs}">
            <td th:text="${auteur.nom}"></td>
            <td th:text="${auteur.prenom}"></td>
            <td th:text="${auteur.dateNaissance}"></td>
            <td th:text="${auteur.status}"></td>
            <td th:text="${auteur.nationalite}"></td>
            <td>
                <!-- Add buttons for delete and update -->
                 <form th:action="@{'/api/auteurs/delete/' + ${auteur.auteur_id}}" method="post">
                <input type="hidden" name="_method" value="delete" />
                <button type="submit" onClick="return confirm('sure?')" class="btn btn-danger btn-sm">Delete</button>
            
                <a th:href="@{'/api/auteurs/updateAuteurForm/' + ${auteur.auteur_id}}" class="btn btn-primary btn-sm">Update</a>
            </form></td>
        </tr>
    </tbody>
</table>

</div>
</body>
</html>